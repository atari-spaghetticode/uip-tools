var driveDummyData=[],directoryDummyData=[],fileDummyData=[];function initSampleData(){driveDummyData.push({name:"A",type:"d"}),driveDummyData.push({name:"B",type:"d"}),driveDummyData.push({name:"C",type:"d"}),driveDummyData.push({name:"D",type:"d"}),driveDummyData.push({name:"E",type:"d"}),driveDummyData.push({name:"F",type:"d"}),driveDummyData.push({name:"G",type:"d"}),driveDummyData.push({name:"H",type:"d"}),driveDummyData.push({name:"I",type:"d"}),driveDummyData.push({name:"J",type:"d"}),driveDummyData.push({name:"K",type:"d"}),driveDummyData.push({name:"L",type:"d"}),driveDummyData.push({name:"M",type:"d"}),driveDummyData.push({name:"N",type:"d"}),driveDummyData.push({name:"O",type:"d"}),driveDummyData.push({name:"P",type:"d"}),directoryDummyData.push({name:"root",type:"d"}),directoryDummyData.push({name:"AUTO",type:"d"}),directoryDummyData.push({name:"NVDI",type:"d"}),directoryDummyData.push({name:"CPX",type:"d"}),directoryDummyData.push({name:"NEW.FLD",type:"d"}),fileDummyData.push({name:"DESKTOP.INF",type:"f",date:"29-03-80",size:12234}),fileDummyData.push({name:"ZENON.ACC",type:"f",date:"29-03-80",size:3434}),fileDummyData.push({name:"DEMO.TOS",type:"f",date:"29-03-80",size:32e3}),fileDummyData.push({name:"PIC.NeO",type:"f",date:"29-03-80",size:32e3}),fileDummyData.push({name:"README.TXT",type:"f",date:"29-03-80",size:1312322})}function requestChangeCurrentDirectory(e){alert(e.name);var t=document.getElementsById("currentPathInput");t.value=null!=t?e.name:""}function requestChDir(e){}function requestFileAction(e){}function createDriveButtons(e,t){for(var n=null,a=0;a<t.length;++a){n=t[a].name.toUpperCase();var r=document.createElement("button"),i=document.createTextNode(n+":");r.appendChild(i),r.type="button",r.name="SetCurrentDir"+n,r.onclick=function(){requestChangeCurrentDirectory(this)},e.appendChild(r)}}function updateDriveViewUI(e){var t=document.createElement("div");t.id="DriveButtonGroup",t.innerHTML="",createDriveButtons(t,e),document.getElementById("DriveButtonListTab").appendChild(t)}function createDirectoryEntries(e,t){for(var n=null,a=0;a<t.length;++a)"ROOT"==(n=t[a].name.toUpperCase())&&(n=".."),e.innerHTML+=n+"<br/>",e.onclick=function(){requestChDir(this)};e.innerHTML+="<br/>"}function updateDirectoryViewUI(e){var t=document.createElement("div");t.id="DirectoryList",t.innerHTML="<br/>",createDirectoryEntries(t,e),document.getElementById("directoryListView").appendChild(t)}function createFileEntries(e,t){for(var n=0;n<t.length;++n)t=t[n].name.toUpperCase(),e.innerHTML+=t+"<br/>",e.onclick=function(){requestFileAction(this)};e.innerHTML+="<br/>"}function updateFileViewUI(e){var t=document.createElement("div");t.id="FileList",t.innerHTML="<br/>",createFileEntries(t,e),document.getElementById("directoryView").appendChild(t)}function processDriveListReq(e){updateDriveViewUI(JSON.parse(responseText))}function sendHttpReq(e,t,n,a,r){var i=new XMLHttpRequest;return 1!=a?(i.open(n,"http://"+e+"/?"+t,a),i.send(),i.responseText):(i.onreadystatechange=function(){4==i.readyState&&200==i.status&&r(i.responseText)},i.open(n,"http://"+e+"/?"+t,a),i.send(),null)}function updateDriveListReq(){sendHttpReq(location.host,"dir","GET",!0,processDriveListReq)}function convertDateToAtariTOSFormat(e){var t=e.getFullYear()-1980;t=(t=t<0?0:t)>119?119:t;var n=e.getDate(),a=t<<9|e.getMonth()+1<<5|n,r=e.getSeconds()/2,i=e.getMinutes();return((e.getHours()<<11|i<<5|r)<<16|a)>>>0}function openLogTab(e,t){var n,a,r;for(a=document.getElementsByClassName("tabcontent"),r=document.getElementsByClassName("tablinks"),buttoncontent=document.getElementsByClassName("button"),n=0;n<a.length;++n)a[n].style.display="none";for(n=0;n<r.length;++n)r[n].className=r[n].className.replace(" active","");for(n=0;n<buttoncontent.length;++n)buttoncontent[n].style.visibility="hidden";document.getElementById(t).style.display="block",document.getElementById("Clear"+t+"Button").style.visibility="visible",e.currentTarget.className+=" active"}